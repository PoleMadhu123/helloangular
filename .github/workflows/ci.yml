name: CI/CD


on: [push]

jobs:
   
   build:

    runs-on: ubuntu-18.04
    steps:
    - uses: actions/checkout@v1
    - name: Use Node.js 8.15.1
      uses: actions/setup-node@v1
      with:
        node-version: 8.15.1
      env:
        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
        BASE_BRANCH: master
        BRANCH: test
        branch folder: ${FOLDER}
        build-script: ${BUILD_SCRIPT}
          
    - name: Send mail
      uses: dawidd6/action-send-mail@v3
      with:
    # Required mail server address:
          server_address: 10.80.13.15
    # Required mail server port:
          server_port: 25
    # Optional (recommended): mail server username:
          #username: ${{secrets.EMAIL_USERNAME}}
    # Optional (recommended) mail server password:
          #password: ${{secrets.EMAIL_PASSWORD}}
    # Required mail subject:
          subject: Github Actions job result
    # Required recipients' addresses:
          to: shanmukha.kandula@henryschein.com
    # Required sender full name (address can be skipped):
          from: Neha Katam
    # Optional whether this connection use TLS (default is true if server_port is 465)
          secure: true
    # Optional plain body:
          #body: Build job of ${{github.repository}} completed successfully!
    # Optional HTML body read from file:
          #html_body: file://README.html
    # Optional carbon copy recipients:
          #cc: kyloren@example.com,leia@example.com
    # Optional blind carbon copy recipients:
          #bcc: r2d2@example.com,hansolo@example.com
    # Optional recipient of the email response:
          #reply_to: luke@example.com
    # Optional Message ID this message is replying to:
          #in_reply_to: <random-luke@example.com>
    # Optional unsigned/invalid certificates allowance:
          #ignore_cert: true
    # Optional converting Markdown to HTML (set content_type to text/html too):
          #convert_markdown: true
    # Optional attachments:
          #attachments: attachments.zip,git.diff,./dist/static/*.js
    # Optional priority: 'high', 'normal' (default) or 'low'
          #priority: low  
       

 #deploy:
    #needs: build    
    #steps:
      #- name: Checkout
        #uses: actions/checkout@v3
        #with:
          #branch: releases/v4
          #folder: .
          #clean: false
          #single-commit: true
